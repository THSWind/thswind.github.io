{"title":"tensorflow-gpu acceleration","date":"2019-11-01T14:47:12.000Z","date_formatted":{"ll":"Nov 1, 2019","L":"11/01/2019","MM-DD":"11-01"},"link":"2019/11/01/tensorflow-gpu acceleration","comments":true,"tags":["DL","RL"],"updated":"2019-11-01T14:47:12.000Z","content":"<p>由于在电脑CPU上跑程序有点慢，今天想到把程序放到服务器上使用gpu加速，节省一点时间。现根据实际情况，将此过程总结如下：</p>\n<h1 id=\"1.-服务器配置\">1. 服务器配置<a title=\"#1.-服务器配置\" href=\"#1.-服务器配置\"></a></h1>\n<ol>\n<li>\n<p>gpu版本：Tesla P40      (查看方式：<code>nvidia-smi</code>      )</p>\n <img src=\"https://i.loli.net/2019/11/01/k6wibahyuUVGTZS.png\" >\n</li>\n<li>\n<p>cudnn版本： 6.0.21  （查看方法：</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cat</span> /usr/local/cuda/include/cudnn.h | grep CUDNN_MAJOR -A 2</span><br><span class=\"line\"></span><br><span class=\"line\">or</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cat</span> /usr/include/cudnn.h | grep CUDNN_MAJOR -A 2</span><br></pre></td></tr></table></figure>\n<p>）</p>\n</li>\n<li>\n<p>cuda版本：8 （查看方法：</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cat</span> /usr/local/cuda/version.txt</span><br><span class=\"line\"></span><br><span class=\"line\">or</span><br><span class=\"line\"></span><br><span class=\"line\">nvcc  --version</span><br></pre></td></tr></table></figure>\n<p>）</p>\n</li>\n<li>\n<p>或者同时查看cudnn和cuda版本信息</p>\n <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda list|grep cudnn</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>python版本：2.7</p>\n</li>\n</ol>\n<h1 id=\"2.-重要：查看匹配的tensorflow-gpu版本\">2. 重要：查看匹配的tensorflow-gpu版本<a title=\"#2.-重要：查看匹配的tensorflow-gpu版本\" href=\"#2.-重要：查看匹配的tensorflow-gpu版本\"></a></h1>\n  <img src=\"https://i.loli.net/2019/11/01/9tFEfkb1RwroPuh.png\" >\n<p>查看下来，我应该安装tensorflow-gpu-1.4.0</p>\n<h1 id=\"3.-卸载与安装\">3. 卸载与安装<a title=\"#3.-卸载与安装\" href=\"#3.-卸载与安装\"></a></h1>\n<h2 id=\"卸载\">卸载<a title=\"#卸载\" href=\"#卸载\"></a></h2>\n<ol>\n<li>\n<p>如果之前安装过其他不匹配的tensorflow-gpu版本，可通过以下命令卸载</p>\n<p>pip uninstall tensorflow</p>\n</li>\n</ol>\n<h2 id=\"安装\">安装<a title=\"#安装\" href=\"#安装\"></a></h2>\n<ol>\n<li>注意此时我们需要安装指定的tensorflow-gpu版本（tensorflow-gpu-1.4.0）。如果不指定具体版本的话，会默认安装当前最新的版本。</li>\n<li><code>pip install tensorflow-gpu==1.4.0</code></li>\n</ol>\n<p>到此结束，好了，畅游世界去吧~</p>\n","prev":{"title":"tensorflow2.0 notes","link":"2019/11/05/tensorflow2.0 notes"},"next":{"title":"encryption+hidden file","link":"2019/10/11/encryption+hidden file"},"plink":"http://thswind.github.io/2019/11/01/tensorflow-gpu acceleration/","toc":[{"id":"1.-服务器配置","title":"1. 服务器配置","index":"1"},{"id":"2.-重要：查看匹配的tensorflow-gpu版本","title":"2. 重要：查看匹配的tensorflow-gpu版本","index":"2"},{"id":"3.-卸载与安装","title":"3. 卸载与安装","index":"3","children":[{"id":"卸载","title":"卸载","index":"3.1"},{"id":"安装","title":"安装","index":"3.2"}]}],"reading_time":"305 words in 2 min"}